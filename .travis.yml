language: java
env:
  global:
    # OSSRH_JIRA_USERNAME
    - secure: "r8pToS27zBwMkMO2ZuNz60IfG+vg3h26urXQ7IHSnC5w9K6Gwx8R5L4NRAF3z/Kzczyh+6kfzjAAFcbxUGVABsYMyBf8gw1M9eS0nEK2FZ96hGvqbtDYSRmM6fRe0AWhCOeyIqkRWtfuekhKyGIZTMnDXMPRZo8tlTxjaQkGr5IkG183tAa9/X26FiIg/+ONWhTtLGDgioV/0VN0joMMcamKnhShUBFeXWqhaVVSP/v+iYuEUfPl3igduejgmXiYqtm9YI5fpHOvirGV6TWTlEPJHc+FwVhRKj0kdqJsaYRlCM7x2pkJ6ipyzWCNBIwRyNzlAlWG04yLL4ogFigLceCuB92OFcw/eObG6eZOv4Kj/Nm8pcTLL0gduIQuXaKj6vOsVav82OU4gyObKGCWtztZiCnExpCafj/IZy6W+HUXee6HoEytcCer4tkOuW6O8B9VyRMyxBHRc76wsvyOBGSUb1ui/PCiQAzCSmyOoYG/0y5BkrEE4Oxf0ZNcGj26adcWq86xQqGReIpjufUGa04dhWt7HKHaFrVAabY++KLkwDB01ln+pzsAzHDhQfZIEXeS8E0wS7Oxey1NEZQfHd1vVvhaDwpl2LUCWsWhyiOx9e4alcnmQXxgFCxaQh7aK0nJPU5wrszHz5tSlAGihD/KBJuHrV5wUneDQ0/RNxw="
    # OSSRH_JIRA_PASSWORD
    - secure: "TSMfjgQpQpQlR5FkquUBfGUgcIZwiiNQvzCCVkx1pG0geVlO4cLX2W2/GPPyxEAE21w8YissSwXbBCuExHCgqfl3txtagX+745Dm1dSl3Q3n63fz+vhIVwi2fMy7AeAfGPvtpV8BC3kbQg0oIKk26LC7S6/4HuN6adCmhvJHUTaEYwI3W4xCj2qGfs1BWBt7EWGUMdLgGJN2nZO9rln3nRMEcWLqrywKC/GZhMttjv0lXKMa4lwlG9IL17upVJ6X584B5aZDWj77VUcIf74Qwjbyv3tbTBoi9Usb7XDuPjNi4fM//RSaeIu2wcCyjNgwZguIkQLeZMfzdGjy/c8e+f/jqTk4dI4560LQTHmXXUk8nCAvsY0XRPZBJhjOiZzbqYBJeYLiEYPGKPxUgqLvx6tjcN1cUjrXqzpQiG7Iu60yv9t/8/sAbnLhLgUD9yaJkISC4Wvv+lsBSpaRDgeECUdbpjync2o7YseEVepSjHQixxwfvaiSKfXBL8EQWozGQMj3SOAcMOGRqBeOCYe9AMRlrOvO4ZYPPfeXMCpAkjsWqwSXII9ctm+Si89NsBMpkpBYboyT+y0Tsy88/2sBV4PdtFrgmoCRnSv2CuikAwMjiPz0iR1SHnBMB0eRNL5gySQO3OjNWS858D+wSARmeJ9NM0ElvPEHrXS2Gu3QoN4="
    # GPG_KEY_NAME
    - secure: "P1wWrUwJYHBNeZ6SclNO3n2RLV69reqGvzh93eIaleR6ntUAIeq3SiRcnk19q32yjuankJdcyZr01mKRr2LkVo4PpH0mFG+lkXs40OBpaPv4xATrKcWJ8+9f+68YGNX3/ND82FJHepHsiMxgvrxvHuWldZyCMkTo7BLZeDk2d1stk9MOZ+Wj8URLevqkuuzWHi0EGoyWjf1BW3eojyeWgoIm8dXsapk8p9L3jXtY/PbpnZEv4BvTT99S55Q0F6oEGnNWOF61m7UvVIkoqRbDlBEV0OZrciTBZ1HS47vXYNxbMFNZX1tGmz1moOslfIsaFT04v8Ob/U5kLYgf+q5+o6jo00dl7jdS/6njgsPCCLExuwo38skR8KSoypzIEoz2Jy0+b7uN/1YcNbtsSu1jDuAHZMmHFQk6WUZKYCSjZu/SuwUXwLptRnPQF5rlyCypUMwVuNYp9Wnj+gPTjklmY7lF0QG4ngGCNCsDEV+4Nhvgkg39yqgokFC8vystuvtYgkqdBO1d/vYq8aFQWVB9jd8A7Js11sSUzbHOX4j67SBJN3vAWboEMSHSzFA/3PyGR+G7L3hzaFXe0bJUKgDGZs9HEjYwrBMUd145PotzfO81eoUd4iHRpY3tmJpmmtCQyqAbPOxNflhsyBqnaCR7Uzw3dhpdJp25JSsUh6ECTiQ="
    - secure: "pCjzOiEZV49N65ZQHjRJHexW7ebiguW5DEVzLx86HrjtJMeNezdcsEkXVQqsybgZQNbh9Fs8gRl2DFJ/GlJvWyA2J7O/iNFkSz7HVyHDVaWv7lfDf3OaQQpSGPcvcQoNihK3B5o6j9kn1rPuInGfoXKMUOzOr+D87MR01orqM1tbbNMi0fGYS8u81uy2XN9QonOq43q0hxQOvk96I14S6msLBa8T6z1CWH/w9zrDoPo8tcCVx+Z+8PO1+rP4cJTSJCr9EXUeNug4BbA3ViH2PDW29vPRzZP+XZxiR4lbhKS0uzirJcgXue3GvaVCTugTaElEv0c/YWA5GxXCp3PpBisre3BWppnBAFtXV26Y/6GAJW3JVMoLPb48eVMfgCd0kSq7YNX6A/l/lHYN0yqxc8KMomZksOPtYNPnbwdOvIXH1Vlq+SO56EIdqIVUNd18fX3MI2GUiW9XKMmlWkhNbFeoYuGpI0+72M5vpSrAkt8c4LNNus05k8hnHVe7A44zj4JMEQXaqPxw23B1ciIyuP6ZbLsh+67YEj7Vvu8ngTEzHHXohOsWjCPguK95yeUzIMIS8A7PC6QiUqwSdEJBcMgzYhqm8PVcIxaxZTLMQmCfMv7x5n/tBJfsu4YPt+5DjVdNMrJu74wguTA01S5thHAr3YxmqgMfoHhTxrxED0I="
    # GPG_PASSPHRASE
    - secure: "oCmfhQqfJqplv1L5n5HFdsYRlI1+g5AGVd9wVaJ3+01hsvMDASPke+EslyWB3G0MSYR29xNI+vyFkQhe88+VnI6/n9e9S8WJVGREHkHvD5SF3MiZZ6DQ/zkN3FHuImqNzKYeRChALDmXEZMGaUA204yrWGuNHGaxtHPiNt/FcI+2v75YCH4A0jLkiOvSVBqHByn0BAzaTaQ9CQ+v+R4WdzoEGl10kC/264stCsmWdeO9m9WF0q2q8Kuu61KsL5SNG8i7gnUPYPtoJHGqIasuVViRpYNZgkYGyVdJP5HFGK69X14RuaaRPJ4rH9lnDs1pAtddcF6usmJw4LXmBFz9ECB9fi/ZcmClzmj4CvYTurcAs3UNjgaT8tUWIUH9We9lSOIYA9jdMhHf1uA9hE4yoCBfvJed/vqVJRoJChTF6Oz+ekY87BEwE6Vdi+mC9h5ShoX1q7d7EQCLv73R0SCDp6lNuWy1miq4ZAbclQ3hqF+6p8JoYei4BytKo3owVw6kxAyrhKw87djkrJLIFkfjlMZRHiXg6fdO/Vk4akEUZQ8v1SshJJ6p7b2bjJczICNNz+kdTxm62XbnnAcSC970kd9SPjdvVKkIt0TH8GpoKUhatC0UvpVp5/A8ReDq0B9wwLIQAuw+2yZaDa90ojq3G5jEVVgN2xsf1df5qMZ05wQ="
jdk:
  - oraclejdk8
before_script:
  - chmod +x gradlew
install: true
script:
  - ./gradlew test
after_success:
  - bash <(curl -s https://codecov.io/bash)
deploy:
  - provider: script
    script: ./cd/deploy.sh
    on:
      branch: master
      tags: true
  - provider: releases
    api_key:
      secure: "W1S04Sr7tQa5bfDalj8xJBe7abPDFaR+UarvEh+7EBg8TR8/PmTkpKC+x+piDM7YLu65b9idaYCnN3Zn/RxzAbHFEnsIt9YL1WCx73a6phF5+1f+vrqukQXgSwPGi3j7MK5D0/mQ/Jczleb9grH2JhD0UtMIbyJy6YRENB06/3OratL80HeYxe6+YXUPhz1MbwdyTUSVJ5AyIAYIwRXnJoWepZbOIa7lJak5Rfo3FpZfvs1yqosQUHzTjiOu9zOzC9lZNfOzDdzrRncevvdAqOIcD+3eZlsd/rgXEVuTY0Y/2YiptOauVTE5NoJanfdwGdQJpR3Fba5pTqllEEU6OQDdqRRohDL+Ts9cKGRa+y4mG8CHJzBJgAT2Xct8bzLuyjN868iYX+aFYjYInvZNazNh986BY/9Ny22yqJFPyfgi37tPXbrwrzwpzjy7QRVavX12ozXYv5wGzSX0sbGdmsxPEm9qVs071gcVV33F8b+hlbOo3/2ot93Yy5pZRDzF9f403lyE/Kz8O+LMDDFTzJOYH+ZMTpd3LhZKTONq5Oj0m+nEj+bYIxoNbTVsASDC6qU+6RTkVw3nUUEmdLaHwxkzuj1CjVEyogUu8z3MFtuA9pJbrkwBZhuv9RTQjjv4ApROvNs//OBk9Pz1y9ZQ3egpivG7UkaIzp2XWUJU+EQ="
    file_glob: true
    file:
      - "build/libs/jaxrs-standard-${VERSION}.jar"
      - "build/libs/jaxrs-standard-${VERSION}-javadoc.jar"
      - "build/libs/jaxrs-standard-${VERSION}-sources.jar"
    skip_cleanup: true
    on:
      branch: master
      tags: true